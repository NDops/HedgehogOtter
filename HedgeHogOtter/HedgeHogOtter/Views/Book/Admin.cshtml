
@{
    ViewBag.Title = "CRUD";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script>

    if (JSON.parse(localStorage.getItem('profile')) != null && JSON.parse(localStorage.getItem('profile')).roles == "admin") {

    } else {
        window.location = "../Home/index";
    }
</script>
<h2>Create, Update and Delete Books</h2>

<button class="btn btn-default" onclick= "window.location='Create'">Create New Book</button>

<style>
    table, th, td {
        border: 1px solid black;
        border-collapse: collapse;
    }

    th, td {
        padding: 5px;
        text-align: left;
    }
    #verifier{
        position:absolute;
        width:25%;
        height:30%;
        top: 25%;
        left:35%;
        margin: 0 auto; 
        background-color:lightblue;
        z-index:1001;
        box-shadow: 10px 10px 5px #888888;
        text-align:center;
        border-style:solid;
        visibility:hidden;
    }
</style>

    <div id="verifier">
        <br />
        <p><b>Deleting this is permanent,</b></p>
        <br> are you sure you want to do this?<br /><br />
        <form action="DeleteBook" method="post">
             <button class="btn btn-default" id="deleter" name="id" value="" type="submit">Yes</button>
             <button type="button" class="btn btn-default" onclick="verify(1)">Cancel</button>
        </form>
    </div>

    <div id="BookTable1">
        <form method="POST">
        <table class="table table-striped table-hover">
            <tr style="border: 1px solid black;">
                <th style="border: 1px solid black;"><img style="height:20px;" src="~/Content/assets/RedFlag.png" /></th>
                <th style="border: 1px solid black;">Book Title:</th>
                <th style="border: 1px solid black;">Author:</th>
                <th style="border: 1px solid black;">Qty:</th>
            </tr>
            @Html.Raw((String)ViewBag.table)
        </table>
        <button class="btn btn-default" id ="saver" type="submit" > Save</button>
        </form>
    </div>
<script>
    function verify(x,id) {
        if(x == 0){
            document.getElementById("verifier").style.visibility = "visible";
            document.getElementById("deleter").value = id;
        } else {
            document.getElementById("verifier").style.visibility = "hidden";
        }
       
    }
   
   
</script>